--// 1. Cáº¤U HÃŒNH
local TargetItem = "Dojo Belt (Red)" -- TÃªn chÃ­nh xÃ¡c cá»§a Äai Äá»
local FileName = "RedBelt-Done"      -- Ghi chÃº cho Tool Ä‘á»•i acc
local WaitTime = 60                  -- Thá»i gian chá» sau khi cÃ³ item (giÃ¢y)

--// 2. Äá»¢I GAME LOAD (Chuáº©n vÃ ng.txt)
repeat task.wait() until game:IsLoaded() and game.Players.LocalPlayer:FindFirstChild("DataLoaded")

local plr = game.Players.LocalPlayer
local CommF = game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("CommF_")

--// 3. HÃ€M GHI FILE BÃO CÃO
local function writeFinishFile()
    pcall(function()
        local content = "Completed-" .. FileName
        writefile(plr.Name .. ".txt", content)
        print("ğŸ’¾ ÄÃ£ lÆ°u file: " .. plr.Name .. ".txt")
    end)
end

--// 4. HÃ€M KIá»‚M TRA ITEM (DÃ¹ng string.find cho cháº¯c cháº¯n)
local function hasRedBelt()
    local success, inventory = pcall(function()
        return CommF:InvokeServer("getInventory")
    end)
    
    if success and inventory then
        for _, item in pairs(inventory) do
            if item.Name and (item.Name == TargetItem or string.find(item.Name, "Red")) then
                return true
            end
        end
    end
    return false
end

--// 5. VÃ’NG Láº¶P CHÃNH
task.spawn(function()
    print("ğŸš€ Äang quÃ©t Äai Äá» (Red Belt)...")
    
    while task.wait(10) do
        if hasRedBelt() then
            print("âœ¨ ÄÃƒ CÃ“ ÄAI Äá»! Äang ghi file vÃ  chá» " .. WaitTime .. " giÃ¢y Ä‘á»ƒ Ä‘á»•i acc...")
            
            -- BÆ°á»›c 1: Ghi file bÃ¡o cÃ¡o ngay láº­p tá»©c
            writeFinishFile()
            
            -- BÆ°á»›c 2: Äá»£i 60 giÃ¢y theo yÃªu cáº§u cá»§a báº¡n
            -- (Báº¡n cÃ³ thá»ƒ farm thÃªm hoáº·c lÃ m gÃ¬ Ä‘Ã³ trong 60s nÃ y)
            task.wait(WaitTime)
            
            -- BÆ°á»›c 3: Táº¯t game Ä‘á»ƒ Tool tá»± Ä‘á»•i account
            print("ğŸ›‘ Háº¿t thá»i gian chá». Äang Shutdown...")
            game:Shutdown()
            break
        end
    end
end)
